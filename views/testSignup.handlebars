<h1>Create an Account</h1>
<form id="createDetails" method="POST" action="/profile" enctype="multipart/form-data">
	<div>
		<label for="title">First Name:</label>
		<br>

		<input type="text" class="form-control" id="fname" name="name">
		<br>

		<label for="title">Last Name:</label>
		<input type="text" class="form-control" id="lname" name="lname">
		<br>

		<label for="title">Email:</label>
		<input type="text" class="form-control" id="email" name="email">
		<br>

		<label for="title">Phone Number:</label>
		<input type="text" class="form-control" id="phoneNum" name="phoneNumber">
		<br>
		
		<label for="title">Image:</label>
		<input type="file" class="form-control" id="proPic" name="profileImage">
		<button type="submit" id="uploadImg"class="uploadBtn">Upload</button>
	
	</div>
</form>

<br>
<br>
<br>
<h1>Create User Name and Password</h1>
<form id="createLog">
	<div>
		<label for="title">Username:</label>
		<input type="text" id="username" name="newUserName">
		<br>

		<label for="title">Password:</label>
		<input id="newPassword" type="password" name="Password">
		<br>

		<label for="title">Re-enter password:</label>
		<input id="password2" type="password" name="newVerifyPass">
	</div>
</form>
<br>
<br>
<button id="submitNewAccount">Submit</button>

<script type="text/javascript">
	$("#submitNewAccount").on("click", function(){
		var password = $("#newPassword").val();
		var passwordVerify = $("#password2").val();
		if (password !== passwordVerify) {
			alert("Password must match, please re-enter")
		} else {
			var nameString = $("#proPic").val();
   			var imageName = nameString.split("/\/").pop();
			var imageLoc = imageName;

			var createUser = {
				fname: $("#fname").val(),
				lname: $("#lname").val(),
				email: $("#email").val(),
				phone: $("#phoneNum").val(),
				username: $("#username").val(),
				password: $("#newPassword").val(),
				image: imageLoc
			}

			console.log(createUser);
			$.post("/user/register", createUser)
				.done(function(data){
					console.log(data);
				})
		}		
	});

	// $("#uploadImg").on("click", function(event) {
	//   event.preventDefault();

	//   // Make a newImage object
	//   var newImage = {
	//     profileImage: $("#proPic")[0].files[0]
	//   };

	//   console.log(newImage);

	//   // Send an AJAX POST-request with jQuery
	//  $.ajax({
 //      url: "/profile",
 //      data: newImage,
 //      method: "post",
 //      processData: false,
 //      ContentType: "form-data"

 //    })
 //      // On success, run the following code
 //      .then(function() {
 //        console.log("success");
	//       // var row = $("<div>");
	//       // row.addClass("img");

	//       // row.append("<p>" + newImage.image + " image: </p>");
	//       // row.append("<p>" + createUser.body + "</p>");
	//     });

	// //  Empty each input box by replacing the value with an empty string
	//   // $("#uploadImg").val("");
	// });
</script>
 
